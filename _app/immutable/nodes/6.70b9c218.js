import{s as D,p as b,a as H,c as P,i as S,D as v,d as F,o as E}from"../chunks/scheduler.4813dac0.js";import{S as R,i as q,f as $,b as k,d as h,m as C,a as M,t as L,e as T}from"../chunks/index.6267134c.js";import{T as O}from"../chunks/toolbar.c96a3a99.js";import{M as U}from"../chunks/markmap.f44705b9.js";import{g as V}from"../chunks/common.84ee5c52.js";function j(t){let o,i,l,m,f,a,s;function _(n){t[5](n)}function c(n){t[6](n)}function d(n){t[7](n)}let u={class:"w-screen h-screen",fit:t[3],content:t[2],onReload:B,onOpenLink:G};return t[0]!==void 0&&(u.mm=t[0]),t[1]!==void 0&&(u.el=t[1]),t[4]!==void 0&&(u.setCursor=t[4]),o=new U({props:u}),b.push(()=>$(o,"mm",_)),b.push(()=>$(o,"el",c)),b.push(()=>$(o,"setCursor",d)),a=new O({props:{class:"absolute right-0 bottom-0 mr-2 mb-2",mm:t[0],onFullPageView:A}}),{c(){k(o.$$.fragment),f=H(),k(a.$$.fragment)},l(n){h(o.$$.fragment,n),f=P(n),h(a.$$.fragment,n)},m(n,e){C(o,n,e),S(n,f,e),C(a,n,e),s=!0},p(n,[e]){const r={};e&8&&(r.fit=n[3]),e&4&&(r.content=n[2]),!i&&e&1&&(i=!0,r.mm=n[0],v(()=>i=!1)),!l&&e&2&&(l=!0,r.el=n[1],v(()=>l=!1)),!m&&e&16&&(m=!0,r.setCursor=n[4],v(()=>m=!1)),o.$set(r);const g={};e&1&&(g.mm=n[0]),a.$set(g)},i(n){s||(M(o.$$.fragment,n),M(a.$$.fragment,n),s=!0)},o(n){L(o.$$.fragment,n),L(a.$$.fragment,n),s=!1},d(n){n&&F(f),T(o,n),T(a,n)}}}function p(t,o){parent.postMessage({type:t,data:o},window.location.origin)}function z(){p("getData")}function A(){p("goToFullPage")}function B(){window.location.reload()}function G(t){const o=new URL(t,window.top.location.href);return o.origin===window.location.origin?p("navigate",t):window.open(o,"_blank"),!1}function I(t,o,i){let l,m,f="",a=!0,s;const _={setData(e){i(2,f=e)},setCursor(e){s==null||s(e)},setFit(e){i(3,a=e)},downloadSvg(){if(!m)return;const e=m.outerHTML.replace(/<br>/g,"<br/>");p("downloadSvg",e)},downloadHtml(){const e=V();if(!e)return;const r=e.transform(f);p("downloadHtml",{result:r})}};function c(e){const{type:r,data:g}=e.data,w=_[r];w==null||w(g)}E(()=>(window.addEventListener("message",c),z(),()=>{window.removeEventListener("message",c)}));function d(e){l=e,i(0,l)}function u(e){m=e,i(1,m)}function n(e){s=e,i(4,s)}return[l,m,f,a,s,d,u,n]}class X extends R{constructor(o){super(),q(this,o,I,j,D,{})}}export{X as component};
