import{_ as st}from"../chunks/preload-helper.cf010ec4.js";import{s as tt,e as He,i as A,d as f,M as nt,y as it,f as g,a as y,g as w,h as P,c as L,j as v,u as _,L as q,z as ot,A as rt,B as dt,l as ie,m as oe,n as Ue,C as ft,r as z,k as Se,N as ut,O as j,P as Ce,x as Re,o as ct,v as xe,p as Ve}from"../chunks/scheduler.4813dac0.js";import{S as lt,i as at,a as pe,g as mt,t as _e,c as pt,b as Ae,d as ye,m as Le,e as Te}from"../chunks/index.6267134c.js";import{j as Oe,b as ht}from"../chunks/index.738c4dae.js";import{g as _t}from"../chunks/navigation.951af4f9.js";import{n as vt}from"../chunks/stores.148d9323.js";import{a as bt,e as kt,c as Fe,f as gt,t as wt,h as Ct,i as xt,j as Et,g as Ne,T as At,b as yt,k as Lt,m as Tt,n as ze}from"../chunks/common.84ee5c52.js";import{F as Dt}from"../chunks/footer.4bf0f568.js";import{d as We,l as Ut,U as Pt,s as It}from"../chunks/loader.71521e64.js";import{t as Ge}from"../chunks/ga.d84d4cc0.js";import{d as qe}from"../chunks/debounce.06000378.js";const St=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var Mt=function(){try{var a=bt(Object,"defineProperty");return a({},"",{}),a}catch{}}();const Ke=Mt;function Ht(a,e,t){e=="__proto__"&&Ke?Ke(a,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):a[e]=t}var Rt=Object.prototype,Vt=Rt.hasOwnProperty;function Ot(a,e,t){var s=a[e];(!(Vt.call(a,e)&&kt(s,t))||t===void 0&&!(e in a))&&Ht(a,e,t)}function Ft(a,e,t,s){if(!Fe(a))return a;e=gt(e,a);for(var l=-1,n=e.length,h=n-1,r=a;r!=null&&++l<n;){var d=wt(e[l]),i=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return a;if(l!=h){var u=r[d];i=s?s(u,d,r):void 0,i===void 0&&(i=Fe(u)?u:Ct(e[l+1])?[]:{})}Ot(r,d,i),r=r[d]}return a}function De(a,e,t){return a==null?a:Ft(a,e,t)}function je(a){let e,t,s,l,n,h,r,d,i,u=a[1]&&Be(a);const D=a[4].default,m=it(D,a,a[3],null);return{c(){e=g("div"),t=g("div"),s=y(),l=g("div"),u&&u.c(),n=y(),h=g("div"),m&&m.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var C=P(e);t=w(C,"DIV",{class:!0}),P(t).forEach(f),s=L(C),l=w(C,"DIV",{class:!0});var b=P(l);u&&u.l(b),n=L(b),h=w(b,"DIV",{class:!0});var k=P(h);m&&m.l(k),k.forEach(f),b.forEach(f),C.forEach(f),this.h()},h(){v(t,"class","modal-backdrop"),v(h,"class","text-sm"),v(l,"class","modal-content"),v(e,"class","modal")},m(o,C){A(o,e,C),_(e,t),_(e,s),_(e,l),u&&u.m(l,null),_(l,n),_(l,h),m&&m.m(h,null),r=!0,d||(i=q(t,"click",a[2]),d=!0)},p(o,C){o[1]?u?u.p(o,C):(u=Be(o),u.c(),u.m(l,n)):u&&(u.d(1),u=null),m&&m.p&&(!r||C&8)&&ot(m,D,o,o[3],r?dt(D,o[3],C,null):rt(o[3]),null)},i(o){r||(pe(m,o),r=!0)},o(o){_e(m,o),r=!1},d(o){o&&f(e),u&&u.d(),m&&m.d(o),d=!1,i()}}}function Be(a){let e,t;return{c(){e=g("div"),t=ie(a[1]),this.h()},l(s){e=w(s,"DIV",{class:!0});var l=P(e);t=oe(l,a[1]),l.forEach(f),this.h()},h(){v(e,"class","text-center text-lg font-semibold mb-2")},m(s,l){A(s,e,l),_(e,t)},p(s,l){l&2&&Ue(t,s[1])},d(s){s&&f(e)}}}function Nt(a){let e,t,s=a[0]&&je(a);return{c(){s&&s.c(),e=He()},l(l){s&&s.l(l),e=He()},m(l,n){s&&s.m(l,n),A(l,e,n),t=!0},p(l,[n]){l[0]?s?(s.p(l,n),n&1&&pe(s,1)):(s=je(l),s.c(),pe(s,1),s.m(e.parentNode,e)):s&&(mt(),_e(s,1,1,()=>{s=null}),pt())},i(l){t||(pe(s),t=!0)},o(l){_e(s),t=!1},d(l){l&&f(e),s&&s.d(l)}}}function zt(a,e,t){let{$$slots:s={},$$scope:l}=e,{show:n=!1}=e,{title:h}=e;const r=nt();function d(){r("close")}return a.$$set=i=>{"show"in i&&t(0,n=i.show),"title"in i&&t(1,h=i.title),"$$scope"in i&&t(3,l=i.$$scope)},[n,h,d,l,s]}class Pe extends lt{constructor(e){super(),at(this,e,zt,Nt,tt,{show:0,title:1})}}const{document:Ie}=St;function Wt(a){let e,t,s,l="Open URL:",n,h,r,d,i,u,D="✓",m,o,C="✗",b,k,Q="?",I,H,V,O=a[7].data.type&&Je(a),F=a[7].error&&Ye(a);return{c(){e=g("div"),t=g("form"),s=g("span"),s.textContent=l,n=y(),O&&O.c(),h=y(),r=g("input"),i=y(),u=g("a"),u.textContent=D,m=y(),o=g("a"),o.textContent=C,b=y(),k=g("a"),k.textContent=Q,I=y(),F&&F.c(),this.h()},l(U){e=w(U,"DIV",{class:!0});var W=P(e);t=w(W,"FORM",{class:!0});var N=P(t);s=w(N,"SPAN",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-1e142zu"&&(s.textContent=l),n=L(N),O&&O.l(N),h=L(N),r=w(N,"INPUT",{class:!0,style:!0,type:!0}),i=L(N),u=w(N,"A",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1t5ui8u"&&(u.textContent=D),m=L(N),o=w(N,"A",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-17phryo"&&(o.textContent=C),b=L(N),k=w(N,"A",{class:!0,"data-ga-label":!0,"data-svelte-h":!0}),z(k)!=="svelte-14i9xoe"&&(k.textContent=Q),N.forEach(f),I=L(W),F&&F.l(W),W.forEach(f),this.h()},h(){v(s,"class","hidden md:block mr-2"),v(r,"class","flex-1 border-b border-blue-500 pl-1 min-w-0"),Se(r,"width","560px"),v(r,"type","url"),r.value=d=a[7].url,v(u,"class","ml-2 no-underline"),v(o,"class","ml-2 no-underline"),v(k,"class","ml-2 no-underline"),v(k,"data-ga-label","openUrlHelp"),v(t,"class","flex"),v(e,"class","md:flex w-full")},m(U,W){A(U,e,W),_(e,t),_(t,s),_(t,n),O&&O.m(t,null),_(t,h),_(t,r),_(t,i),_(t,u),_(t,m),_(t,o),_(t,b),_(t,k),_(e,I),F&&F.m(e,null),H||(V=[q(r,"input",a[18]),q(u,"click",j(a[16])),q(o,"click",j(a[17])),q(k,"click",j(a[19])),q(t,"submit",j(a[16]))],H=!0)},p(U,W){U[7].data.type?O?O.p(U,W):(O=Je(U),O.c(),O.m(t,h)):O&&(O.d(1),O=null),W[0]&128&&d!==(d=U[7].url)&&r.value!==d&&(r.value=d),U[7].error?F?F.p(U,W):(F=Ye(U),F.c(),F.m(e,null)):F&&(F.d(1),F=null)},d(U){U&&f(e),O&&O.d(),F&&F.d(),H=!1,Ce(V)}}}function Gt(a){var O,F,U,W,N,he,ue,B,Z;let e,t="Open URL",s,l,n,h,r,d,i=((U=(F=(O=a[8])==null?void 0:O.data)==null?void 0:F.markmap)==null?void 0:U.initialExpandLevel)==null?"Limit expand level":"Expand all levels",u,D,m,o="Learn more",C,b;function k(x,R){var K,se,le;return typeof((le=(se=(K=x[8])==null?void 0:K.data)==null?void 0:se.markmap)==null?void 0:le.color)=="string"?Kt:qt}let Q=k(a),I=Q(a),H=!((he=(N=(W=a[8])==null?void 0:W.data)==null?void 0:N.markmap)!=null&&he.maxWidth)&&Xe(a),V=!((Z=(B=(ue=a[8])==null?void 0:ue.data)==null?void 0:B.markmap)!=null&&Z.embedAssets)&&Qe(a);return{c(){e=g("a"),e.textContent=t,s=y(),l=g("span"),I.c(),n=y(),H&&H.c(),h=y(),V&&V.c(),r=y(),d=g("a"),u=ie(i),D=y(),m=g("a"),m.textContent=o,this.h()},l(x){e=w(x,"A",{"data-svelte-h":!0}),z(e)!=="svelte-bs3tzt"&&(e.textContent=t),s=L(x),l=w(x,"SPAN",{class:!0});var R=P(l);I.l(R),R.forEach(f),n=L(x),H&&H.l(x),h=L(x),V&&V.l(x),r=L(x),d=w(x,"A",{class:!0,"data-ga-label":!0});var K=P(d);u=oe(K,i),K.forEach(f),D=L(x),m=w(x,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(m)!=="svelte-qj0uhu"&&(m.textContent=o),this.h()},h(){v(l,"class","ml-4"),v(d,"class","ml-4"),v(d,"data-ga-label","expandLevel"),v(m,"class","ml-4"),v(m,"href","/docs/json-options")},m(x,R){A(x,e,R),A(x,s,R),A(x,l,R),I.m(l,null),A(x,n,R),H&&H.m(x,R),A(x,h,R),V&&V.m(x,R),A(x,r,R),A(x,d,R),_(d,u),A(x,D,R),A(x,m,R),C||(b=[q(e,"click",j(a[15])),q(d,"click",j(a[27]))],C=!0)},p(x,R){var K,se,le,$,ae,re,ee,de,J;Q===(Q=k(x))&&I?I.p(x,R):(I.d(1),I=Q(x),I&&(I.c(),I.m(l,null))),(le=(se=(K=x[8])==null?void 0:K.data)==null?void 0:se.markmap)!=null&&le.maxWidth?H&&(H.d(1),H=null):H?H.p(x,R):(H=Xe(x),H.c(),H.m(h.parentNode,h)),(re=(ae=($=x[8])==null?void 0:$.data)==null?void 0:ae.markmap)!=null&&re.embedAssets?V&&(V.d(1),V=null):V?V.p(x,R):(V=Qe(x),V.c(),V.m(r.parentNode,r)),R[0]&256&&i!==(i=((J=(de=(ee=x[8])==null?void 0:ee.data)==null?void 0:de.markmap)==null?void 0:J.initialExpandLevel)==null?"Limit expand level":"Expand all levels")&&Ue(u,i)},d(x){x&&(f(e),f(s),f(l),f(n),f(h),f(r),f(d),f(D),f(m)),I.d(),H&&H.d(x),V&&V.d(x),C=!1,Ce(b)}}}function Je(a){let e,t=a[7].data.desc+"",s;return{c(){e=g("span"),s=ie(t),this.h()},l(l){e=w(l,"SPAN",{class:!0});var n=P(e);s=oe(n,t),n.forEach(f),this.h()},h(){v(e,"class","hidden md:block px-1 bg-blue-500 text-white rounded-l")},m(l,n){A(l,e,n),_(e,s)},p(l,n){n[0]&128&&t!==(t=l[7].data.desc+"")&&Ue(s,t)},d(l){l&&f(e)}}}function Ye(a){let e,t=a[7].error+"",s;return{c(){e=g("div"),s=ie(t),this.h()},l(l){e=w(l,"DIV",{class:!0});var n=P(e);s=oe(n,t),n.forEach(f),this.h()},h(){v(e,"class","ml-2 text-red-600")},m(l,n){A(l,e,n),_(e,s)},p(l,n){n[0]&128&&t!==(t=l[7].error+"")&&Ue(s,t)},d(l){l&&f(e)}}}function qt(a){let e,t="Use solid color",s,l;return{c(){e=g("a"),e.textContent=t,this.h()},l(n){e=w(n,"A",{"data-ga-label":!0,"data-svelte-h":!0}),z(e)!=="svelte-1o5gh70"&&(e.textContent=t),this.h()},h(){v(e,"data-ga-label","solidColor")},m(n,h){A(n,e,h),s||(l=q(e,"click",j(a[23])),s=!0)},p:xe,d(n){n&&f(e),s=!1,l()}}}function Kt(a){let e,t="Colorize",s,l;return{c(){e=g("a"),e.textContent=t,this.h()},l(n){e=w(n,"A",{"data-ga-label":!0,"data-svelte-h":!0}),z(e)!=="svelte-gh8pxy"&&(e.textContent=t),this.h()},h(){v(e,"data-ga-label","colorize")},m(n,h){A(n,e,h),s||(l=q(e,"click",j(a[24])),s=!0)},p:xe,d(n){n&&f(e),s=!1,l()}}}function Xe(a){let e,t="Wrap long text",s,l;return{c(){e=g("a"),e.textContent=t,this.h()},l(n){e=w(n,"A",{class:!0,"data-ga-label":!0,"data-svelte-h":!0}),z(e)!=="svelte-fvlxsx"&&(e.textContent=t),this.h()},h(){v(e,"class","ml-4"),v(e,"data-ga-label","wrapLongText")},m(n,h){A(n,e,h),s||(l=q(e,"click",j(a[25])),s=!0)},p:xe,d(n){n&&f(e),s=!1,l()}}}function Qe(a){let e,t,s,l,n,h,r,d,i,u,D;return{c(){e=g("span"),t=g("a"),s=ie("Embed assets"),n=y(),h=g("sup"),r=g("a"),d=ie("?"),this.h()},l(m){e=w(m,"SPAN",{class:!0});var o=P(e);t=w(o,"A",{class:!0,"data-ga-label":!0});var C=P(t);s=oe(C,"Embed assets"),C.forEach(f),n=L(o),h=w(o,"SUP",{});var b=P(h);r=w(b,"A",{class:!0,"data-ga-label":!0});var k=P(r);d=oe(k,"?"),k.forEach(f),b.forEach(f),o.forEach(f),this.h()},h(){v(t,"class",l=a[9]?"text-orange-600":""),v(t,"data-ga-label","embedAssets"),v(r,"class",i=`no-underline ${a[9]?"text-orange-600":""}`),v(r,"data-ga-label","embedAssetsHelp"),v(e,"class","ml-4")},m(m,o){A(m,e,o),_(e,t),_(t,s),_(e,n),_(e,h),_(h,r),_(r,d),u||(D=[q(t,"click",j(a[26])),q(r,"click",j(a[21]))],u=!0)},p(m,o){o[0]&512&&l!==(l=m[9]?"text-orange-600":"")&&v(t,"class",l),o[0]&512&&i!==(i=`no-underline ${m[9]?"text-orange-600":""}`)&&v(r,"class",i)},d(m){m&&f(e),u=!1,Ce(D)}}}function Ze(a){let e,t,s;return{c(){e=g("textarea"),this.h()},l(l){e=w(l,"TEXTAREA",{class:!0}),P(e).forEach(f),this.h()},h(){v(e,"class","w-full h-full p-1"),e.value=a[0]},m(l,n){A(l,e,n),t||(s=q(e,"input",a[14]),t=!0)},p(l,n){n[0]&1&&(e.value=l[0])},d(l){l&&f(e),t=!1,s()}}}function jt(a){let e,t=`<li class="mb-1">GitHub Gist
			<ul class="text-xs list-disc pl-4"><li>https://gist.github.com/gera2ld/af76a4c245b302206b16aec503dbe07b</li> <li>https://gist.githubusercontent.com/gera2ld/af76a4c245b302206b16aec503dbe07b/raw/markmap.md</li></ul></li> <li class="mb-1"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">CORS
			</a>-enabled URL to a markdown file, including raw file URL in GitHub or Gist
			<ul class="text-xs list-disc pl-4"><li>https://raw.githubusercontent.com/markmap/markmap/master/README.md</li></ul></li> <li class="mb-1">Short links
			<ul class="text-xs list-disc pl-4"><li>gist:af76a4c245b302206b16aec503dbe07b</li> <li>gist:af76a4c245b302206b16aec503dbe07b:markmap.md</li> <li>github:markmap/markmap@master</li> <li>github:markmap/markmap@master:README.md</li></ul></li>`,s,l,n,h="OK",r,d;return{c(){e=g("ol"),e.innerHTML=t,s=y(),l=g("div"),n=g("a"),n.textContent=h,this.h()},l(i){e=w(i,"OL",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1ck589d"&&(e.innerHTML=t),s=L(i),l=w(i,"DIV",{class:!0});var u=P(l);n=w(u,"A",{"data-svelte-h":!0}),z(n)!=="svelte-9eylgb"&&(n.textContent=h),u.forEach(f),this.h()},h(){v(e,"class","text-left list-decimal pl-4"),v(l,"class","modal-footer")},m(i,u){A(i,e,u),A(i,s,u),A(i,l,u),_(l,n),r||(d=q(n,"click",j(a[20])),r=!0)},p:xe,d(i){i&&(f(e),f(s),f(l)),r=!1,d()}}}function $e(a){let e,t=`It seems you cannot connect to <code>https://cdn.jsdelivr.net</code>, try
			<code>Embed assets</code> to make the exported HTML work.`;return{c(){e=g("p"),e.innerHTML=t,this.h()},l(s){e=w(s,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-12legxd"&&(e.innerHTML=t),this.h()},h(){v(e,"class","bg-red-200 border border-red-400 rounded p-2 max-w-lg")},m(s,l){A(s,e,l)},d(s){s&&f(e)}}}function Bt(a){let e,t,s="When enabled, all critical assets will be embedded within the exported HTML.",l,n,h=`<li>Pros:
			<ul class="list-disc pl-4"><li>no further network requests when rendering the markmap</li> <li>no dependency on CDNs like jsdelivr</li></ul></li> <li>Cons:
			<ul class="list-disc pl-4"><li>the exported file will be bloated</li></ul></li>`,r,d,i,u="OK",D,m,o=a[9]&&$e();return{c(){o&&o.c(),e=y(),t=g("p"),t.textContent=s,l=y(),n=g("ul"),n.innerHTML=h,r=y(),d=g("div"),i=g("a"),i.textContent=u,this.h()},l(C){o&&o.l(C),e=L(C),t=w(C,"P",{"data-svelte-h":!0}),z(t)!=="svelte-chs2mn"&&(t.textContent=s),l=L(C),n=w(C,"UL",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1ot90tu"&&(n.innerHTML=h),r=L(C),d=w(C,"DIV",{class:!0});var b=P(d);i=w(b,"A",{"data-svelte-h":!0}),z(i)!=="svelte-167zows"&&(i.textContent=u),b.forEach(f),this.h()},h(){v(n,"class","list-disc pl-4"),v(d,"class","modal-footer")},m(C,b){o&&o.m(C,b),A(C,e,b),A(C,t,b),A(C,l,b),A(C,n,b),A(C,r,b),A(C,d,b),_(d,i),D||(m=q(i,"click",j(a[22])),D=!0)},p(C,b){C[9]?o||(o=$e(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},d(C){C&&(f(e),f(t),f(l),f(n),f(r),f(d)),o&&o.d(C),D=!1,m()}}}function Jt(a){let e,t="You should save them in Gist or other file services. Do you still want to continue?",s,l,n,h="Cancel",r,d,i="OK",u,D;return{c(){e=g("p"),e.textContent=t,s=y(),l=g("div"),n=g("a"),n.textContent=h,r=y(),d=g("a"),d.textContent=i,this.h()},l(m){e=w(m,"P",{"data-svelte-h":!0}),z(e)!=="svelte-1q2276t"&&(e.textContent=t),s=L(m),l=w(m,"DIV",{class:!0});var o=P(l);n=w(o,"A",{"data-svelte-h":!0}),z(n)!=="svelte-1ij7f37"&&(n.textContent=h),r=L(o),d=w(o,"A",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-f0t61u"&&(d.textContent=i),o.forEach(f),this.h()},h(){v(d,"class","text-gray-500"),v(l,"class","modal-footer")},m(m,o){A(m,e,o),A(m,s,o),A(m,l,o),_(l,n),_(l,r),_(l,d),u||(D=[q(n,"click",j(a[10])),q(d,"click",j(a[11]))],u=!0)},p:xe,d(m){m&&(f(e),f(s),f(l)),u=!1,Ce(D)}}}function Yt(a){let e,t,s,l='<a class="inline-block text-sm text-orange-600 underline" href="https://marketplace.visualstudio.com/items?itemName=gera2ld.markmap-vscode" target="_blank" rel="noreferrer noopener" data-ga-label="markmapVSCodeFromREPL">Markmap in VSCode!</a>',n,h,r,d,i,u,D,m,o,C,b,k,Q="0.15.3",I,H,V="0.15.3",O,F,U,W,N,he="Download as interactive HTML",ue,B,Z,x="Download as SVG",R,K,se="⚠️",le,$,ae="Press <kbd>Cmd</kbd>/<kbd>Ctrl</kbd> to toggle recursively",re,ee,de,J,ve,te,be,Y,ke,we,c;function E(p,T){return p[7].show?Wt:Gt}let X=E(a),S=X(a),G=!a[3]&&Ze(a);return ee=new Dt({}),J=new Pe({props:{show:a[4],title:"The following types of URLs are supported",$$slots:{default:[jt]},$$scope:{ctx:a}}}),J.$on("close",a[20]),te=new Pe({props:{show:a[5],title:"Embedding Assets",$$slots:{default:[Bt]},$$scope:{ctx:a}}}),te.$on("close",a[22]),Y=new Pe({props:{show:a[6],title:"Your changes will be lost!",$$slots:{default:[Jt]},$$scope:{ctx:a}}}),Y.$on("close",a[10]),{c(){e=g("meta"),t=y(),s=g("div"),s.innerHTML=l,n=y(),h=g("main"),r=g("div"),S.c(),d=y(),i=g("div"),u=g("div"),G&&G.c(),D=y(),m=g("iframe"),C=y(),b=g("div"),k=ie("markmap-lib@"),I=ie(Q),H=ie(",markmap-view@"),O=ie(V),F=y(),U=g("div"),W=g("div"),N=g("a"),N.textContent=he,ue=y(),B=g("div"),Z=g("a"),Z.textContent=x,R=y(),K=g("span"),K.textContent=se,le=y(),$=g("div"),$.innerHTML=ae,re=y(),Ae(ee.$$.fragment),de=y(),Ae(J.$$.fragment),ve=y(),Ae(te.$$.fragment),be=y(),Ae(Y.$$.fragment),this.h()},l(p){const T=ft("svelte-lvhij9",Ie.head);e=w(T,"META",{name:!0,content:!0}),T.forEach(f),t=L(p),s=w(p,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),z(s)!=="svelte-b8p9i3"&&(s.innerHTML=l),n=L(p),h=w(p,"MAIN",{class:!0});var ne=P(h);r=w(ne,"DIV",{class:!0});var ce=P(r);S.l(ce),ce.forEach(f),d=L(ne),i=w(ne,"DIV",{class:!0});var M=P(i);u=w(M,"DIV",{class:!0});var ge=P(u);G&&G.l(ge),ge.forEach(f),D=L(M),m=w(M,"IFRAME",{class:!0,src:!0}),P(m).forEach(f),C=L(M),b=w(M,"DIV",{class:!0});var me=P(b);k=oe(me,"markmap-lib@"),I=oe(me,Q),H=oe(me,",markmap-view@"),O=oe(me,V),me.forEach(f),F=L(M),U=w(M,"DIV",{class:!0});var fe=P(U);W=w(fe,"DIV",{class:!0});var Me=P(W);N=w(Me,"A",{"data-svelte-h":!0}),z(N)!=="svelte-1uez7bi"&&(N.textContent=he),Me.forEach(f),ue=L(fe),B=w(fe,"DIV",{class:!0,title:!0});var Ee=P(B);Z=w(Ee,"A",{"data-svelte-h":!0}),z(Z)!=="svelte-p6mv4u"&&(Z.textContent=x),R=L(Ee),K=w(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),z(K)!=="svelte-12j6prf"&&(K.textContent=se),Ee.forEach(f),le=L(fe),$=w(fe,"DIV",{class:!0,"data-svelte-h":!0}),z($)!=="svelte-18jcr6a"&&($.innerHTML=ae),fe.forEach(f),M.forEach(f),ne.forEach(f),re=L(p),ye(ee.$$.fragment,p),de=L(p),ye(J.$$.fragment,p),ve=L(p),ye(te.$$.fragment,p),be=L(p),ye(Y.$$.fragment,p),this.h()},h(){Ie.title="Try markmap",v(e,"name","Description"),v(e,"content","Try the markmap REPL here."),v(s,"class","fixed z-10 hidden md:block"),Se(s,"top","15px"),Se(s,"left","50%"),v(r,"class","flex items-center mb-4 text-sm whitespace-nowrap overflow-auto"),v(u,"class","markmap-wrapper"),v(m,"class","markmap-wrapper"),ut(m.src,o="/inner")||v(m,"src",o),v(b,"class","text-sm text-gray-400 hidden md:block"),v(W,"class","px-4 py-2"),v(K,"class","text-red-500"),v(B,"class","px-4 py-2"),v(B,"title","SVG export does not work well with PrismJS and Katex"),v($,"class","flex-1 text-right text-xs"),v(U,"class","flex items-center flex-wrap whitespace-nowrap"),v(i,"class","flex-1 min-h-0 repl flex flex-col md:grid items-stretch justify-items-stretch"),v(h,"class","inner flex flex-col md:fs")},m(p,T){_(Ie.head,e),A(p,t,T),A(p,s,T),A(p,n,T),A(p,h,T),_(h,r),S.m(r,null),_(h,d),_(h,i),_(i,u),G&&G.m(u,null),a[31](u),_(i,D),_(i,m),a[32](m),_(i,C),_(i,b),_(b,k),_(b,I),_(b,H),_(b,O),_(i,F),_(i,U),_(U,W),_(W,N),_(U,ue),_(U,B),_(B,Z),_(B,R),_(B,K),_(U,le),_(U,$),A(p,re,T),Le(ee,p,T),A(p,de,T),Le(J,p,T),A(p,ve,T),Le(te,p,T),A(p,be,T),Le(Y,p,T),ke=!0,we||(c=[q(N,"click",j(a[13])),q(Z,"click",j(a[12]))],we=!0)},p(p,T){X===(X=E(p))&&S?S.p(p,T):(S.d(1),S=X(p),S&&(S.c(),S.m(r,null))),p[3]?G&&(G.d(1),G=null):G?G.p(p,T):(G=Ze(p),G.c(),G.m(u,null));const ne={};T[0]&16&&(ne.show=p[4]),T[1]&8192&&(ne.$$scope={dirty:T,ctx:p}),J.$set(ne);const ce={};T[0]&32&&(ce.show=p[5]),T[0]&512|T[1]&8192&&(ce.$$scope={dirty:T,ctx:p}),te.$set(ce);const M={};T[0]&64&&(M.show=p[6]),T[1]&8192&&(M.$$scope={dirty:T,ctx:p}),Y.$set(M)},i(p){ke||(pe(ee.$$.fragment,p),pe(J.$$.fragment,p),pe(te.$$.fragment,p),pe(Y.$$.fragment,p),ke=!0)},o(p){_e(ee.$$.fragment,p),_e(J.$$.fragment,p),_e(te.$$.fragment,p),_e(Y.$$.fragment,p),ke=!1},d(p){p&&(f(t),f(s),f(n),f(h),f(re),f(de),f(ve),f(be)),f(e),S.d(),G&&G.d(),a[31](null),a[32](null),Te(ee,p),Te(J,p),Te(te,p),Te(Y,p),we=!1,Ce(c)}}}function et(a,e){const t=document.createElement("a");t.download=a,t.href=e,t.click()}function Xt(a,e,t){let s,l;Re(a,vt,c=>t(30,s=c)),Re(a,Et,c=>t(9,l=c));const n=xt();let h,r,d,i="",u=!0,D=!1,m=!1,o=!1,C=null;const b={show:!1,error:null,url:We.asUrl(),data:We};let k;const Q={getData(){I("setFit",u),I("setData",i)},goToFullPage(){i!==Y?t(6,o=!0):V()},downloadSvg(c){et("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(c))},async downloadHtml({result:c}){await n;const E=Ne().getUsedAssets(c.features);U({result:c,assets:E})},navigate(c){window.location.assign(c)}};function I(c,E){r==null||r.contentWindow.postMessage({type:c,data:E},window.location.origin)}function H(){t(6,o=!1)}function V(){_t("/full"+window.location.hash)}function O(){I("downloadSvg")}function F(){I("downloadHtml")}async function U({result:c,assets:E}){const X=Ne(),{root:S,frontmatter:G}=c,p=G==null?void 0:G.markmap,T={baseJs:[],jsonOptions:p},ne=p==null?void 0:p.embedAssets;E={scripts:[...[...ht,At].map(M=>X.urlBuilder.getFullUrl(M)).map(M=>yt(M)),...E.scripts,{type:"iife",data:{fn:()=>{setTimeout(()=>{const{markmap:M,mm:ge}=window,me=new M.Toolbar;me.attach(ge);const fe=me.render();fe.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(fe)})}}}],styles:[Lt(X.urlBuilder.getFullUrl(Tt)),...E.styles]},ne&&([E.scripts,E.styles]=await Promise.all([Promise.all(E.scripts.map(async M=>M.type==="script"&&M.data.src?{type:"script",data:{textContent:await ze(M.data.src)}}:M)),Promise.all(E.styles.map(async M=>M.type==="stylesheet"?{type:"style",data:await ze(M.data.href)}:M))]));const ce=X.fillTemplate(S,E,T);et("markmap.html","data:text/html;utf8,"+encodeURIComponent(ce))}function W(){d&&(t(0,i=d.getValue()),i!==Y&&t(28,u=!1))}function N(){if(d){const{line:c}=d.getCursor();I("setCursor",c)}}function he(c){t(0,i=c.target.value),t(28,u=!1)}function ue(){t(7,b.show=!0,b)}async function B(){try{const{type:c}=b.data;if(!c)throw new Error("Unsupported URL");await Ut(b.data),t(7,b.show=!1,b),t(7,b.error=null,b),window.location.hash=`#?d=${encodeURIComponent(b.data.asData())}`,Ge("event","openUrl",{event_label:c})}catch(c){t(7,b.error=c.message||"Unknown error",b),Ge("event","openUrl",{event_label:"error"})}}function Z(){t(7,b.show=!1,b)}function x(c){const E=c.target.value;t(7,b.url=E,b),t(7,b.data=Pt.parse(E),b)}function R(){t(4,D=!0)}function K(){t(4,D=!1)}function se(){t(5,m=!0)}function le(){t(5,m=!1)}function $(){if(!i.startsWith(`---
`))return;const c=i.indexOf(`
---
`);if(c<0)return;const E=i.slice(4,c);try{return{data:Oe.load(E),offset:c+5}}catch{}}function ae(){let c=k.offset?i.slice(k.offset):i;c.startsWith(`
`)&&(c=c.slice(1));const E=["---",Oe.dump(k.data).trim(),"---","",c].join(`
`);d.setValue(E)}function re(){var c,E;typeof((E=(c=k==null?void 0:k.data)==null?void 0:c.markmap)==null?void 0:E.color)!="string"&&(t(8,k=De(k||{},"data.markmap.color","#2980b9")),ae())}function ee(){var c,E;(E=(c=k==null?void 0:k.data)==null?void 0:c.markmap)!=null&&E.color&&(t(8,k.data.markmap.color=void 0,k),ae())}function de(){var c,E;(E=(c=k==null?void 0:k.data)==null?void 0:c.markmap)!=null&&E.maxWidth||(t(8,k=De(k||{},"data.markmap.maxWidth",300)),ae())}function J(){var c,E;(E=(c=k==null?void 0:k.data)==null?void 0:c.markmap)!=null&&E.embedAssets||(t(8,k=De(k||{},"data.markmap.embedAssets",!0)),ae())}function ve(){var c,E;((E=(c=k==null?void 0:k.data)==null?void 0:c.markmap)==null?void 0:E.initialExpandLevel)==null?t(8,k=De(k||{},"data.markmap.initialExpandLevel",1)):t(8,k.data.markmap.initialExpandLevel=void 0,k),ae()}function te(c){const{type:E,data:X}=c.data,S=Q[E];S==null||S(X)}async function be(){window.addEventListener("message",te);const{check:c,dispose:E}=It(S=>{d&&d.setValue(S),t(0,i=S),Y=i,t(28,u=!0)});t(29,C=c);const{default:X}=await st(()=>import("../chunks/codemirror.0e7480c7.js"),["_app/immutable/chunks/codemirror.0e7480c7.js","_app/immutable/chunks/index.738c4dae.js","_app/immutable/chunks/common.84ee5c52.js","_app/immutable/chunks/preload-helper.cf010ec4.js","_app/immutable/chunks/index.6063bb9a.js","_app/immutable/chunks/scheduler.4813dac0.js","_app/immutable/chunks/ga.d84d4cc0.js","_app/immutable/chunks/index.6267134c.js","_app/immutable/assets/codemirror.8a3c1e84.css"]);return t(3,d=X(h,{lineNumbers:!0,mode:"markdown",value:i,indentUnit:2,tabSize:2})),d.setOption("extraKeys",{Tab:S=>{S.somethingSelected()?S.execCommand("indentMore"):S.replaceSelection(" ".repeat(S.getOption("indentUnit")))},"Shift-Tab":S=>{S.execCommand("indentLess")}}),d.on("change",qe(W,500)),d.on("cursorActivity",qe(N,500)),()=>{t(3,d=null),t(29,C=null),E(),window.removeEventListener("message",te)}}let Y;ct(()=>{const c=be();return()=>{c.then(E=>E())}});function ke(c){Ve[c?"unshift":"push"](()=>{h=c,t(1,h)})}function we(c){Ve[c?"unshift":"push"](()=>{r=c,t(2,r)})}return a.$$.update=()=>{a.$$.dirty[0]&1&&t(8,k=i&&$()),a.$$.dirty[0]&268435456&&I("setFit",u),a.$$.dirty[0]&1&&I("setData",i),a.$$.dirty[0]&1610612736&&s==null&&(C==null||C())},[i,h,r,d,D,m,o,b,k,l,H,V,O,F,he,ue,B,Z,x,R,K,se,le,re,ee,de,J,ve,u,C,s,ke,we]}class rl extends lt{constructor(e){super(),at(this,e,Xt,Yt,tt,{},null,[-1,-1])}}export{rl as component};
